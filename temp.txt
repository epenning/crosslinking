Get finished PDBs as list:
find . -type f -name unrelaxed_model_1.pdb | sed -r 's|/[^/]+$||' | tr "." "'" | tr -d "/" | sed "s/$/',/"
find . -type f -name relaxed_model_1.pdb | sed -r 's|/[^/]+$||' | tr "." "'" | tr -d "/" | sed "s/$/',/"



Generate commands to copy finished PDBs to models/<protein>-(un)relaxed_model_1.pdb
find * -name unrelaxed_model_1.pdb -exec sh -c 'new=$(echo "{}" | tr "/" "-" | tr " " "_"); echo cp "{}" "models/$new"' \;
find * -name relaxed_model_1.pdb -exec sh -c 'new=$(echo "{}" | tr "/" "-" | tr " " "_"); echo cp "{}" "models/$new"' \;


Generate commands to copy finished PDBs to models/<protein>-relaxed_model_<model>_ptm.pdb
find -regex './.*/relaxed_model_._ptm.pdb' -exec sh -c 'new=$(echo "{}" | tr "/" "-" | tr " " "_"); echo cp "{}" "models/${new:2}"' \;

Generate commands to copy finished results to results/<protein>-result_model_<model>_ptm.pkl
find -regex './.*/result_model_._ptm.pkl' -exec sh -c 'new=$(echo "{}" | tr "/" "-" | tr " " "_"); echo cp "{}" "results/${new:2}"' \;


Compress finished PDBs:
tar czf models.tar.gz models


Location of compressed PDBs:
/scratch1/08481/epenning/crosslinking/output/models.tar.gz
/work/08481/epenning/maverick2/crosslinking/output/models.tar.gz


Generate commands to copy rankings to rankings/<protein>-ranking_debug.json
find * -name ranking_debug.json -exec sh -c 'new=$(echo "{}" | tr "/" "-" | tr " " "_"); echo cp "{}" "rankings/$new"' \;


Compress finished rankings:
tar czf rankings.tar.gz rankings


TODO:

Visualizations?
Seaborn in Python

Chimera X
* Look at domains (can get from uniprot)
* Compare predicted structures with known from uniprot (for those that exist)
Plot: see PDF

For top 10 XL proteins:
* try running with relax, see if the XL changes

Updates:
* Ran top 10 cross linked proteins with relax - doesn't seem clearly any better or worse
* Looking at pLDDT for PRKG1 - need to figure out what cutoff to use
* Seems like Predicted Aligned Error would be nice to have to determine domain cutoffs, see Alphafold paper
	- Except current outputs weren't run with the pTM models, so they don't have PAE values
	- Apparently pTM models have slightly lower accuracy